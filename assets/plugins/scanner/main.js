!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("adm.@angular/common"),require("adm.tslib"),require("adm.@angular/forms"),require("adm.@angular/cdk"),require("adm.@angular/animations"),require("adm.@angular/material"),require("adm.rxjs"),require("adm.lodash"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/core")):"function"==typeof define&&define.amd?define(["adm.@angular/common","adm.tslib","adm.@angular/forms","adm.@angular/cdk","adm.@angular/animations","adm.@angular/material","adm.rxjs","adm.lodash","adm.rxjs/operators","adm.shared","adm.@angular/core"],e):"object"==typeof exports?exports.scanner=e(require("adm.@angular/common"),require("adm.tslib"),require("adm.@angular/forms"),require("adm.@angular/cdk"),require("adm.@angular/animations"),require("adm.@angular/material"),require("adm.rxjs"),require("adm.lodash"),require("adm.rxjs/operators"),require("adm.shared"),require("adm.@angular/core")):t.scanner=e(t["adm.@angular/common"],t["adm.tslib"],t["adm.@angular/forms"],t["adm.@angular/cdk"],t["adm.@angular/animations"],t["adm.@angular/material"],t["adm.rxjs"],t["adm.lodash"],t["adm.rxjs/operators"],t["adm.shared"],t["adm.@angular/core"])}("undefined"!=typeof self?self:this,function(t,e,n,o,a,i,r,s,l,c,p){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,(function(e){return t[e]}).bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/assets/plugins/scanner",n(n.s=0)}({0:function(t,e,n){t.exports=n("P+m1")},"0S4P":function(e,n){e.exports=t},"17wl":function(t,n){t.exports=e},"3xDq":function(t,e){t.exports=n},"7zYK":function(t,e){t.exports=o},"9gj6":function(t,e){t.exports=a},MdUB:function(t,e){t.exports=i},"P+m1":function(t,e,n){"use strict";n.r(e),n.d(e,"ScannerModule",function(){return oe});var o=n("vOrQ"),a=n("cfyg"),i=n("aP7H"),r=function(){function t(){this.ns=5,this.sounds=[],this.sources=["/assets/sounds/beep.mp3","/assets/sounds/error.mp3"],this.playing=[];for(var t=0;t<this.ns;t++)this.sounds.push([]);for(t=0;t<this.sources.length;t++)for(var e=0;e<this.ns;e++)this.sounds[e].push(new Audio(this.sources[t]));for(t=0;t<this.sources.length;t++)this.playing[t]=0}return t.prototype.playSound=function(t,e){void 0===e&&(e=1),this.sounds[this.playing[t]][t].volume=e<=1&&e>=0?e:1,this.sounds[this.playing[t]][t].play(),this.playing[t]+=1,this.playing[t]>=this.ns&&(this.playing[t]=0)},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(),s=n("Vgaj"),l=function(){function t(t){var e=this;this.context=t,this.destroy$=new s.Subject,this.connectionLost=!0,this.online=!1,this.keyboardMode=!1,this.next=new s.Subject,this.prev=new s.Subject,this.page=new s.BehaviorSubject(0),this.mode="normal",this.keresesPopup=0,this.keresesBalaCode=null,this.keresettBalaSend=new s.Subject,this.selectedUtca={},this.selectedFakk=null,this.selectedBizonylat=null,this.selectedBizonylatType=null,this.newErrorEvent=new s.Subject,this.labels=[[{label:"Bejelentkez\xe9s",iconright:"navigate_next",func:"next",color:"primary"}],[],[{label:"Vissza",iconleft:"navigate_before",func:"prev"},{label:"Fakk",iconright:"navigate_next",func:"next",color:"primary"}],[{label:"Utca",iconleft:"navigate_before",func:"prev"},{label:"Adatfelvitel",iconright:"navigate_next",func:"next",color:"primary"}],[{label:"Vissza",iconleft:"navigate_before",func:"prev"}]],this.page.pipe(Object(i.takeUntil)(this.destroy$)).subscribe(function(t){switch(t){case 0:e.reset();break;case 1:e.resetStyle(),e.selectedBizonylat=null,e.selectedBizonylatType=null,e.mode="normal",e.keresesPopup=0,e.keresesBalaCode=null,e.keresettBala=null;break;case 2:e.selectedUtca=null;break;case 3:e.selectedFakk=null}})}return t.prototype.pageChange=function(){},t.prototype.resetStyle=function(){var t,e;(null===(e=null===(t=this.context.pluginComponentRef)||void 0===t?void 0:t.location)||void 0===e?void 0:e.nativeElement)&&this.context.theme.removeColorVars(this.context.pluginComponentRef.location.nativeElement)},t.prototype.reset=function(){this.selectedFakk=null,this.mode="normal",this.selectedUtca=null,this.selectedBizonylat=null,this.selectedBizonylatType=null,this.dolgozo=null,this.mode="normal",this.keresesPopup=0,this.keresesBalaCode=null,this.keresettBala=null,this.resetStyle()},t.prototype.destroy=function(){this.reset(),this.destroy$.next()},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](a.PLUGIN_CONTEXT))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),c="scanner_dolgozok",p="scanner_utcak",u="scanner_tipusok",d="scanner_bizonylatok",g="scanner_version",h="scanner_syncid",m="scanner_syncedTill",f="scanner_beolvpos",y=function(){function t(t){this.state=t,this.scanner=null,this.newBeolvasasEvent=new s.Subject,this.dbUpdated=new s.Subject,this.syncEvent=new s.Subject,this.syncId=-1,this.syncedTill=-1,this.version=null,this.dolgozok=[],this.utcak=[],this.tipusok={},this.bizonylatok=[],this.beolvasasChunks=null,this.chunkSize=10,this.chunkNum=50,this.beolvasasmax=this.chunkSize*this.chunkNum,this.pos={start:0,length:0}}return t.prototype.updateConfig=function(t){var e=this;(null===this.version||this.version<t.version)&&(localStorage.setItem(p,JSON.stringify(t.utcak)),localStorage.setItem(c,JSON.stringify(t.dolgozok)),localStorage.setItem(g,JSON.stringify(t.version)),localStorage.setItem(u,JSON.stringify(t.tipusok)),localStorage.setItem(d,JSON.stringify(t.bizonylatok)),this.dolgozok=t.dolgozok,this.utcak=t.utcak,this.tipusok=t.tipusok,this.bizonylatok=t.bizonylatok,this.version=t.version,this.state.selectedBizonylat&&!this.bizonylatok.find(function(t){return t.bizonylat===e.state.selectedBizonylat.bizonylat})&&this.state.page.value>1&&(this.state.page.next(1),this.state.newErrorEvent.next({error:"A bizonylat lez\xe1r\xe1sra ker\xfclt",description:"",keepOpen:!0})),this.dbUpdated.next())},t.prototype.loadConfig=function(){this.utcak=JSON.parse(localStorage.getItem(p)),this.dolgozok=JSON.parse(localStorage.getItem(c)),this.tipusok=JSON.parse(localStorage.getItem(u)),this.bizonylatok=JSON.parse(localStorage.getItem(d)),this.version=JSON.parse(localStorage.getItem(g)),this.syncId=JSON.parse(localStorage.getItem(h)),this.syncId=null==this.syncId?-1:this.syncId,this.syncedTill=JSON.parse(localStorage.getItem(m)),this.syncedTill=null==this.syncedTill?-1:this.syncedTill,this.beolvasasChunks=this.createChunkArrays(),this.loadBeolvasasChunks(),this.pos=JSON.parse(localStorage.getItem(f)),this.pos=this.pos?this.pos:{start:0,length:0},this.dbUpdated.next()},t.prototype.createChunkArrays=function(){for(var t={},e=0;e<this.chunkNum;e++)t["scanner_beolvasasok_"+e]=[];return t},t.prototype.loadBeolvasasChunks=function(){for(var t=0;t<localStorage.length;t++){var e=localStorage.key(t);if(e.startsWith("scanner_beolvasasok_")){var n=localStorage.getItem(localStorage.key(t));this.beolvasasChunks[e]=this.beolvasasChunks[e].concat(JSON.parse(n))}}},t.prototype.getAllBeolvasas=function(t){void 0===t&&(t=null);for(var e=[],n=0,o=Object.keys(this.beolvasasChunks);n<o.length;n++)e=e.concat(this.beolvasasChunks[o[n]]);return t&&(e=e.filter(function(){})),e.sort(function(t,e){return t.id<e.id?-1:t.id>e.id?1:0}),e},t.prototype.getUnsyncedBeolvasasok=function(){var t=this,e=[];return this.getAllBeolvasas().forEach(function(n){n.id>t.syncedTill&&e.push(n)}),{version:this.version,scanner:this.scanner,data:e}},t.prototype.add=function(t,e){var n,o;this.syncId++,t.id=this.syncId,t.datum=new Date,t.dolgozo=this.state.dolgozo.id,t.dolgozoNev=this.state.dolgozo.nev,t.bizonylat=null===(o=null===(n=this.state)||void 0===n?void 0:n.selectedBizonylat)||void 0===o?void 0:o.bizonylat;var a=Math.floor(e/this.chunkSize),i="scanner_beolvasasok_"+a;return this.beolvasasChunks[i][e-a*this.chunkSize]=t,localStorage.setItem(i,JSON.stringify(this.beolvasasChunks[i])),localStorage.setItem(f,JSON.stringify({start:this.pos.start,length:this.pos.length})),localStorage.setItem(h,JSON.stringify(this.syncId)),this.newBeolvasasEvent.next(t),!0},t.prototype.addBeolvasas=function(t){var e=(this.pos.start+this.pos.length)%this.beolvasasmax;return this.state.dolgozo?this.pos.length===this.beolvasasmax?this.syncId-this.syncedTill>=this.beolvasasmax?(this.state.newErrorEvent.next({error:"Mem\xf3ria betelt",description:"K\xe9rem szinkroniz\xe1ljon a szerverrel"}),!1):(this.pos.start=(this.pos.start+1)%this.beolvasasmax,this.add(t,e)):(this.pos.length++,this.add(t,e)):(this.state.newErrorEvent.next({error:"Ment\xe9s nem siker\xfclt",description:"Dolgoz\xf3 nincs bejelentkezve",keepOpen:!0}),!1)},t.prototype.setSyncedTill=function(t){this.syncedTill=t,localStorage.setItem(m,JSON.stringify(t))},t.prototype.loadBalaLista=function(t){return this.api.http.post(this.api.BASE_URL+"/request/scanner:getlist",{id:t,version:this.state.keresettBala?this.state.keresettBala.version:0})},t.prototype.destroy=function(){},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275inject"](l))},t.\u0275prov=o["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(),v=n("0S4P"),k=n("MdUB"),b=function(t){return{keepopen:t}};function C(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",1),o["\u0275\u0275elementStart"](1,"div"),o["\u0275\u0275elementStart"](2,"h1"),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"h2"),o["\u0275\u0275text"](5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"button",2),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().okClicked()}),o["\u0275\u0275text"](7,"Ok"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){var a=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](3,b,a.error.keepOpen)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",a.error.error," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](a.error.description)}}var x=function(){function t(t,e,n){var o=this;this.cd=t,this.state=e,this.sound=n,this.ngUnsubscribe=new s.Subject,this.showError=!1,this.error={},this.state.newErrorEvent.pipe(Object(i.takeUntil)(this.ngUnsubscribe)).subscribe(function(t){o.error=t,o.playError(),o.sound.playSound(1)})}return t.prototype.okClicked=function(){this.showError=!1},t.prototype.playError=function(){this.showError=!1,this.cd.detectChanges(),this.showError=!0},t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](l),o["\u0275\u0275directiveInject"](r))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-erroroverlay"]],decls:1,vars:1,consts:[["class","error color-warn",3,"ngClass",4,"ngIf"],[1,"error","color-warn",3,"ngClass"],["mat-flat-button","",3,"click"]],template:function(t,e){1&t&&o["\u0275\u0275template"](0,C,8,5,"div",0),2&t&&o["\u0275\u0275property"]("ngIf",e.showError)},directives:[v.NgIf,v.NgClass,k.MatButton],styles:["[_nghost-%COMP%]{position:fixed;pointer-events:none;z-index:1000}.error[_ngcontent-%COMP%], [_nghost-%COMP%]{width:100%;height:100%}.error[_ngcontent-%COMP%]{-webkit-animation:fadeOutError 2s linear 0s forwards;animation:fadeOutError 2s linear 0s forwards;position:absolute;text-align:center;background-color:rgba(var(--theme-background-600),.9);border-radius:5px;padding:15px;z-index:101;display:flex;align-items:center;justify-items:center;opacity:1;transition:opacity .5}.error.keepopen[_ngcontent-%COMP%]{-webkit-animation:none!important;animation:none!important;pointer-events:all}.error[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}@-webkit-keyframes fadeOutError{0%{opacity:1}50%{opacity:1}to{opacity:0}}@keyframes fadeOutError{0%{opacity:1}50%{opacity:1}to{opacity:0}}"]}),t}(),O=function(t){return{"mb-3":t}},_=function(t){return{"d-none":t}},M=function(t){return{active:t}},P=function(){function t(t,e){this.state=t,this.cd=e,this.ngUnsubscribe=new s.Subject}return t.prototype.ngOnInit=function(){var t=this;this.state.page.pipe(Object(i.takeUntil)(this.ngUnsubscribe)).subscribe(function(){t.cd.markForCheck()})},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.gotoPage=function(t){"kereses"===this.state.mode?this.state.keresesPopup=t-1:t<this.state.page.value&&this.state.page.next(t)},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](l),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-infopanel"]],decls:20,vars:23,consts:[[1,"raktar"],[1,"bizonylat",3,"ngClass"],[3,"ngClass"],[1,"infoheader",3,"ngClass"],[1,"headerdata","mr-0"],[1,"num",3,"ngClass","click"],[1,"label"],[1,"headerdata","ml-0"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"h3",2),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",3),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275elementStart"](7,"div",5),o["\u0275\u0275listener"]("click",function(){return e.gotoPage(2)}),o["\u0275\u0275pipe"](8,"async"),o["\u0275\u0275elementStart"](9,"h1"),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"span",6),o["\u0275\u0275text"](12," utca "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",7),o["\u0275\u0275elementStart"](14,"div",5),o["\u0275\u0275listener"]("click",function(){return e.gotoPage(3)}),o["\u0275\u0275pipe"](15,"async"),o["\u0275\u0275elementStart"](16,"h1"),o["\u0275\u0275text"](17),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"span",6),o["\u0275\u0275text"](19," fakk "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](13,O,!(null!=e.state.selectedBizonylatType&&e.state.selectedBizonylatType.utcafakk))),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",null!==e.state.keresesBalaCode?e.state.keresesBalaCode:null==e.state.selectedBizonylat?null:e.state.selectedBizonylat.label," "),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](15,_,!(null!=e.state.selectedBizonylatType&&e.state.selectedBizonylatType.utcafakk))),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.state.selectedUtca?e.state.selectedUtca.raktar:"Utcav\xe1laszt\xe1s"," "),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](17,_,!(null!=e.state.selectedBizonylatType&&e.state.selectedBizonylatType.utcafakk))),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](19,M,2===o["\u0275\u0275pipeBind1"](8,9,e.state.page)||1===e.state.keresesPopup)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",e.state.selectedUtca?e.state.selectedUtca.utca:"-"," "),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](21,M,3===o["\u0275\u0275pipeBind1"](15,11,e.state.page)||2===e.state.keresesPopup)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",null!==e.state.selectedFakk&&""!==e.state.selectedFakk&&void 0!==e.state.selectedFakk?e.state.selectedFakk:"-"," "))},directives:[v.NgClass],pipes:[v.AsyncPipe],styles:["[_nghost-%COMP%]{width:100%;position:relative}[_nghost-%COMP%]   .bizonylat[_ngcontent-%COMP%]{width:100%;font-size:12px}h1[_ngcontent-%COMP%]{font-size:18px}h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:0}.raktar[_ngcontent-%COMP%]{margin-top:10px;width:100%;text-align:center}.infoheader[_ngcontent-%COMP%]{display:flex;width:100%}.infoheader[_ngcontent-%COMP%]   .headerdata[_ngcontent-%COMP%]{padding:10px;margin:0 10px 10px;flex:1;display:inline-block;text-align:center;display:flex;align-items:center;justify-items:center;flex-direction:column}.infoheader[_ngcontent-%COMP%]   .headerdata[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:-7px}.infoheader[_ngcontent-%COMP%]   .headerdata[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px}.infoheader[_ngcontent-%COMP%]   .headerdata[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{background-color:rgba(var(--theme-background-700),1);border-radius:5px;padding:10px;border:3px solid transparent;width:100%;height:60px}.infoheader[_ngcontent-%COMP%]   .headerdata[_ngcontent-%COMP%]   .num.active[_ngcontent-%COMP%]{background-color:rgba(var(--theme-primary-500),.3);border-color:rgba(var(--theme-primary-500),1)!important;box-shadow:0 0 10px 0 rgba(var(--theme-primary-500),.5)!important}"]}),t}(),w=n("17wl"),S=n("3xDq"),I=function(){function t(t,e,n,o,a){var r=this;this.context=t,this.cd=e,this.state=n,this.sound=o,this.storage=a,this.ngUnsubscribe=new s.Subject,this.state.next.pipe(Object(i.takeUntil)(this.ngUnsubscribe)).subscribe(function(){r.isActive()&&r.onNext()}),this.state.prev.pipe(Object(i.takeUntil)(this.ngUnsubscribe)).subscribe(function(){r.isActive()&&r.onPrev()})}return t.prototype.onKeyInput=function(t){"Enter"===t.key?(this.isActive()&&this.onNext(),t.preventDefault()):"Escape"!==t.key&&"F1"!==t.key||(this.isActive()&&this.pageNum>1&&this.onPrev(),t.preventDefault()),this.keyInput(t)},t.prototype.keyInput=function(t){},t.prototype.isActive=function(){return this.state.page.value===this.pageNum},t.prototype.isNumber=function(t){return isFinite(t)},t.prototype.onNext=function(){},t.prototype.onPrev=function(){1===this.state.keresesPopup?this.state.keresesPopup=0:2===this.state.keresesPopup?this.state.keresesPopup=1:this.state.page.value>0&&this.state.page.next(this.pageNum-1)},t.prototype.onDestroy=function(){},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.onDestroy()},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](a.PLUGIN_CONTEXT),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](l),o["\u0275\u0275directiveInject"](r),o["\u0275\u0275directiveInject"](y))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["ng-component"]],hostBindings:function(t,e){1&t&&o["\u0275\u0275listener"]("keydown",function(t){return e.onKeyInput(t)},!1,o["\u0275\u0275resolveDocument"])},inputs:{pageNum:"pageNum",contentSection:"contentSection"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t}(),E=["focusRef"];function z(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1," Hib\xe1s azonos\xedt\xf3 "),o["\u0275\u0275elementEnd"]())}function B(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1,"Minimum 6 karakter "),o["\u0275\u0275elementEnd"]())}var F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formGroup=new S.FormGroup({dolgozo:new S.FormControl(null,[S.Validators.minLength(6),e.validateDolgozo.bind(e)])}),e.formSubmitted=!1,e.maxAzonositoLength=6,e.currentRead="",e}return Object(w.__extends)(e,t),e.prototype.keyInput=function(t){this.formSubmitted=!1,this.formGroup.get("dolgozo").markAsPristine(),this.formGroup.get("dolgozo").markAsUntouched()},e.prototype.ngOnInit=function(){this.focusRef.nativeElement.focus()},e.prototype.input=function(t){null!=t.target.value&&t.target.value.toString().length>this.maxAzonositoLength&&(t.target.value=t.target.value.toString().substring(0,this.maxAzonositoLength),this.formGroup.get("dolgozo").setValue(t.target.value)),this.formSubmitted=!1,this.formGroup.get("dolgozo").markAsPristine(),this.formGroup.get("dolgozo").markAsUntouched()},e.prototype.onInput=function(t){if(this.currentRead+=t.key,this.currentRead.endsWith("_+")&&(this.currentRead="_++"),this.currentRead.startsWith("_++")&&this.currentRead.endsWith("+_")){var e=this.currentRead.substring(3,this.currentRead.length-2);this.formGroup.get("dolgozo").setValue(e),this.onNext()}},e.prototype.onNext=function(){var t=this;if(this.formGroup.updateValueAndValidity(),this.formGroup.markAllAsTouched(),this.storage.dolgozok){var e=this.storage.dolgozok.find(function(e){return null!==t.formGroup.get("dolgozo").value&&e.id===t.formGroup.get("dolgozo").value.toString()});this.formSubmitted=!0,e&&(this.state.dolgozo=e,this.storage.addBeolvasas({type:"dolgozoBe"})&&(console.log("success"),this.state.page.next(1)))}},e.prototype.validateDolgozo=function(t){return this.storage.dolgozok?this.storage.dolgozok.find(function(e){return null!==t.value&&e.id===t.value.toString()})?null:{validDolgozo:!0}:null},e.\u0275fac=function(t){return j(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-login"]],viewQuery:function(t,e){var n;1&t&&o["\u0275\u0275staticViewQuery"](E,!0,o.ElementRef),2&t&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(e.focusRef=n.first)},hostBindings:function(t,e){1&t&&o["\u0275\u0275listener"]("keypress",function(t){return e.onInput(t)},!1,o["\u0275\u0275resolveDocument"])},features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:5,consts:[[1,"login"],["novalidate","",3,"formGroup"],["form",""],["appearance","outline","color","accent"],["matInput","","formControlName","dolgozo",3,"type","readonly","input"],["focusRef",""],[4,"ngIf"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"form",1,2),o["\u0275\u0275elementStart"](3,"mat-form-field",3),o["\u0275\u0275elementStart"](4,"mat-label"),o["\u0275\u0275text"](5,"Dolgoz\xf3 k\xf3d"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"input",4,5),o["\u0275\u0275listener"]("input",function(t){return e.input(t)}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](8,z,2,0,"mat-error",6),o["\u0275\u0275template"](9,B,2,0,"mat-error",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("formGroup",e.formGroup),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("type","password")("readonly",e.state.keyboardMode),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.formGroup.get("dolgozo").hasError("validDolgozo")&&e.formSubmitted&&!e.formGroup.get("dolgozo").hasError("minlength")),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.formGroup.get("dolgozo").hasError("minlength")))},directives:[S["\u0275angular_packages_forms_forms_y"],S.NgControlStatusGroup,S.FormGroupDirective,k.MatFormField,k.MatLabel,k.MatInput,S.DefaultValueAccessor,S.NgControlStatus,S.FormControlName,v.NgIf,k.MatError],styles:["[_nghost-%COMP%]{margin-bottom:50px;position:relative;padding-left:15px;padding-right:15px;display:inline-block;width:100%}.logo[_ngcontent-%COMP%]{width:100px;margin-bottom:70px}.login[_ngcontent-%COMP%]{width:100%;text-align:center}.login[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px}"]}),e}(I),j=o["\u0275\u0275getInheritedFactory"](F),N=function(t){return{background:t}},U=function(t){return{normal:t}};function T(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",6),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](n);var t=e.$implicit;return o["\u0275\u0275nextContext"]().setBizonylat(t)}),o["\u0275\u0275element"](1,"div",7),o["\u0275\u0275elementStart"](2,"div",8),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](4,"div",9),o["\u0275\u0275elementStart"](5,"div",10),o["\u0275\u0275elementStart"](6,"div",11),o["\u0275\u0275text"](7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](8,"div",9),o["\u0275\u0275text"](9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){var a=e.$implicit,i=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("type","button")("ngStyle",o["\u0275\u0275pureFunction1"](6,N,null==i.storage||null==i.storage.tipusok[a.type]||null==i.storage.tipusok[a.type].theme?null:i.storage.tipusok[a.type].theme.primary))("ngClass",o["\u0275\u0275pureFunction1"](8,U,"normal"===a.type)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](a.label),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",null==i.storage||null==i.storage.tipusok[a.type]?null:i.storage.tipusok[a.type].label," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",a.datum," ")}}function R(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",13),o["\u0275\u0275element"](1,"mat-spinner",14),o["\u0275\u0275elementEnd"]())}function V(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",6),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](n);var t=e.$implicit;return o["\u0275\u0275nextContext"]().setBizonylat(t)}),o["\u0275\u0275template"](1,R,2,0,"div",12),o["\u0275\u0275element"](2,"div",7),o["\u0275\u0275elementStart"](3,"div",8),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](5,"div",9),o["\u0275\u0275elementStart"](6,"div",10),o["\u0275\u0275elementStart"](7,"div",11),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](9,"div",9),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){var a=e.$implicit,i=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("type","button")("ngStyle",o["\u0275\u0275pureFunction1"](7,N,null==i.storage||null==i.storage.tipusok[a.type]||null==i.storage.tipusok[a.type].theme?null:i.storage.tipusok[a.type].theme.primary))("ngClass",o["\u0275\u0275pureFunction1"](9,U,"normal"===a.type)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",i.loadingBizonylat===a.bizonylat),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](a.label),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",null==i.storage||null==i.storage.tipusok[a.type]?null:i.storage.tipusok[a.type].label," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",a.datum," ")}}var D=function(t){return{open:t}},A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.processedBizonylatok=[],e.keresesBizonylatok=[],e.searchoverlayOpen=!1,e.stopLoading$=new s.Subject,e}return Object(w.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.preprocessBizonylatok(),this.storage.dbUpdated.pipe(Object(i.takeUntil)(this.ngUnsubscribe)).subscribe(function(){t.preprocessBizonylatok()})},e.prototype.onNext=function(){},e.prototype.preprocessBizonylatok=function(){var t=[],e=[];this.storage.bizonylatok.forEach(function(n){"kereses"===n.type?t.unshift(n):e.push(n)}),(t=t.sort(function(t,e){return t.bizonylat>e.bizonylat?1:-1})).length>0&&e.splice(1,0,{type:"kereses",datum:"",bizonylat:-9999,label:"Keres\xe9s",_isCollection:!0}),this.processedBizonylatok=e,this.keresesBizonylatok=t},e.prototype.trackByFn=function(t,e){return e.bizonylat},e.prototype.closeSearchOverlay=function(){this.searchoverlayOpen=!1},e.prototype.stopLoading=function(){this.stopLoading$.next(),this.loadingBizonylat=null},e.prototype.setBizonylat=function(t){var e=this;this.stopLoading(),t._isCollection?this.searchoverlayOpen=!0:"kereses"===t.type?(this.loadingBizonylat=t.bizonylat,this.storage.loadBalaLista(t.bizonylat).pipe(Object(i.takeUntil)(this.ngUnsubscribe),Object(i.takeUntil)(this.stopLoading$)).subscribe(function(n){e.selectBizonylat(t),e.stopLoading(),e.state.keresettBala=n,e.state.mode="kereses",e.state.page.next(4)},function(t){e.state.newErrorEvent.next({error:"Nincs kapcsolat",description:"A bet\xf6lt\xe9shez wifi kapcsolat sz\xfcks\xe9ges",keepOpen:!0}),e.stopLoading()})):(this.state.mode="normal",this.selectBizonylat(t),this.state.page.next(this.storage.tipusok[t.type].utcafakk?2:4))},e.prototype.selectBizonylat=function(t){this.state.selectedBizonylat=t,this.state.selectedBizonylatType=this.storage.tipusok[t.type],this.context.theme.applyColorVars(this.context.pluginComponentRef.location.nativeElement,this.storage.tipusok[t.type].theme)},e.\u0275fac=function(t){return L(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-typeselector"]],features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:8,vars:6,consts:[[1,"mainbuttons"],["class","bizonylatbtn","mat-flat-button","",3,"type","ngStyle","ngClass","click",4,"ngFor","ngForOf"],[1,"searchoverlaywrapper",3,"ngClass"],["mat-icon-button","",3,"click","mouseup"],[1,"searchoverlay"],["class","bizonylatbtn","mat-flat-button","",3,"type","ngStyle","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["mat-flat-button","",1,"bizonylatbtn",3,"type","ngStyle","ngClass","click"],[1,"grad"],[1,"label"],[1,"spacer"],[1,"info"],[1,"type"],["class","spinner",4,"ngIf"],[1,"spinner"],["diameter","30"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275template"](1,T,10,10,"button",1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275elementStart"](3,"button",3),o["\u0275\u0275listener"]("click",function(){return e.closeSearchOverlay()})("mouseup",function(){return e.closeSearchOverlay()}),o["\u0275\u0275elementStart"](4,"mat-icon"),o["\u0275\u0275text"](5,"arrow_back"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275template"](7,V,11,11,"button",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.processedBizonylatok),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](4,D,e.searchoverlayOpen)),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngForOf",e.keresesBizonylatok)("ngForTrackBy",e.trackByFn))},directives:[v.NgForOf,v.NgClass,k.MatButton,k.MatIcon,v.NgStyle,v.NgIf,k.MatSpinner],styles:["[_nghost-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   .mainbuttons[_ngcontent-%COMP%]{flex-direction:column;overflow:hidden;position:relative;max-height:100%;overflow-y:auto;padding:3px 6px 6px}[_nghost-%COMP%]   .mainbuttons[_ngcontent-%COMP%], [_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%}[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]{position:absolute;background-color:rgba(var(--theme-background-500),.9);top:0;left:0;justify-content:center}[_nghost-%COMP%]   .searchoverlaywrapper[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;top:0;z-index:10;left:100%;padding:3px 0 3px 3px;transition:left .2s ease-in,opacity .2s ease-in;display:flex;opacity:0;pointer-events:none}[_nghost-%COMP%]   .searchoverlaywrapper[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .searchoverlaywrapper[_ngcontent-%COMP%]   .searchoverlay[_ngcontent-%COMP%]{overflow:hidden;overflow-y:auto;flex:1;position:relative;display:flex;flex-direction:column}[_nghost-%COMP%]   .searchoverlaywrapper[_ngcontent-%COMP%]   .searchoverlay[_ngcontent-%COMP%]   .bizonylatbtn[_ngcontent-%COMP%]{width:auto!important;margin-right:6px!important}[_nghost-%COMP%]   .searchoverlaywrapper.open[_ngcontent-%COMP%]{left:0;transition:left .2s ease-out,opacity .2s ease-out;opacity:1;pointer-events:all}[_nghost-%COMP%]   .bizonylatbtn[_ngcontent-%COMP%]{position:relative;min-width:unset!important;font-size:16px;padding:7px;max-width:100%!important;width:100%!important;margin:3px!important;text-align:left;white-space:pre-wrap!important;color:#000;line-height:20px;display:flex;flex-direction:column}[_nghost-%COMP%]   .bizonylatbtn[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .bizonylatbtn[_ngcontent-%COMP%]    .mat-button-wrapper{flex:1;display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .bizonylatbtn[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .bizonylatbtn[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], [_nghost-%COMP%]   .bizonylatbtn[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .bizonylatbtn[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-size:10px;display:flex}[_nghost-%COMP%]   .bizonylatbtn[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .bizonylatbtn[_ngcontent-%COMP%]   .grad[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;background-image:linear-gradient(45deg,hsla(0,0%,100%,.2),hsla(0,0%,50.2%,0),rgba(0,0,0,.3))}"]}),e}(I),L=o["\u0275\u0275getInheritedFactory"](A),$={columns:[{rows:[{keys:[{character:7},{character:8},{character:9}]},{keys:[{character:4},{character:5},{character:6}]},{keys:[{character:1},{character:2},{character:3}]},{keys:[{character:0}]}]}]},q=n("YLtl"),G=function(t){return{manualclick:t}},J=function(){function t(t){this.cd=t,this.clickEvent=new o.EventEmitter,this._manualClick=!1,this.fontSize="1rem"}return t.prototype.ngOnInit=function(){this.fontSize=this.config.labelSize?this.config.labelSize+"rem":"1rem"},t.prototype.manualClick=function(){var t=this;this._manualClick=!0,this.cd.markForCheck(),this.timeoutHelper=setTimeout(function(e){t._manualClick=!1,t.cd.detectChanges()},10)},t.prototype.clicked=function(){this.clickEvent.emit(this.config)},t.prototype.ngOnDestroy=function(){this.timeoutHelper&&clearTimeout(this.timeoutHelper)},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](o.ChangeDetectorRef))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-keybutton"]],hostVars:2,hostBindings:function(t,e){2&t&&o["\u0275\u0275styleProp"]("font-size",e.fontSize)},inputs:{config:"config"},outputs:{clickEvent:"clickEvent"},decls:3,vars:5,consts:[[1,"key",3,"ngClass","click"],[1,"label"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"button",0),o["\u0275\u0275listener"]("click",function(){return e.clicked()}),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](3,G,e._manualClick)),o["\u0275\u0275attribute"]("disabled",e.config.disabled?"":null),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",e.config.label?e.config.label:e.config.character," "))},directives:[v.NgClass],styles:['[_nghost-%COMP%]{font-size:1rem}.key[_ngcontent-%COMP%]{border-radius:5px;background:rgba(var(--theme-primary-500),1);border-color:rgba(var(--theme-primary-300),1);color:rgba(var(--theme-foreground-500),1);font-size:2em;font-weight:500;transform-origin:50% 50%;border-style:solid;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;height:100%;max-height:100%;transition:transform 1s ease-out,box-shadow 1s ease-out,background-color 1s ease-out;position:relative;text-align:center;min-height:0}.key[_ngcontent-%COMP%], .key[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-font-smoothing:subpixel-antialiased}.key[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{left:50%;top:50%;z-index:10;transform:translateX(-50%) translateY(-50%) translateZ(0)}.key[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .key[_ngcontent-%COMP%]:after{position:absolute;transition:opacity 1s ease-out}.key[_ngcontent-%COMP%]:after{width:100%;height:100%;content:"";top:0;left:0;opacity:0}.key[_ngcontent-%COMP%]:disabled{opacity:.2;pointer-events:none}.key.manualclick[_ngcontent-%COMP%], .key[_ngcontent-%COMP%]:active{transform:scale(.95) translateZ(0);transition:none}.key.manualclick[_ngcontent-%COMP%]:after, .key[_ngcontent-%COMP%]:active:after{opacity:1;transition:none}.key.manualclick[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .key[_ngcontent-%COMP%]:active   .label[_ngcontent-%COMP%]{opacity:.7}']}),t}(),H=function(t){return{flex:t}};function Q(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",6),o["\u0275\u0275elementStart"](1,"app-keybutton",7),o["\u0275\u0275listener"]("clickEvent",function(t){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"](3).keyClicked(t)}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){var a=e.$implicit;o["\u0275\u0275property"]("ngStyle",o["\u0275\u0275pureFunction1"](2,H,a.width?a.width:"")),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("config",a)}}function Y(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",4),o["\u0275\u0275template"](1,Q,2,4,"div",5),o["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",n.keys)}}function W(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",2),o["\u0275\u0275template"](1,Y,2,1,"div",3),o["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",n.rows)}}var K=function(t){return{closed:t}},X=function(){function t(t){this.cd=t,this.layout=$,this.opened=!0,this.keyEvent=new o.EventEmitter}return Object.defineProperty(t.prototype,"availableCharacters",{get:function(){return this._availableCharacters},set:function(t){this._availableCharacters=t},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.processedLayout=Object(q.cloneDeep)(this.layout),this.updateAvailable()},t.prototype.keyClicked=function(t){this.keyEvent.next(t)},t.prototype.updateAvailable=function(){for(var t=0,e=this.processedLayout.columns;t<e.length;t++)for(var n=0,o=e[t].rows;n<o.length;n++)for(var a=0,i=o[n].keys;a<i.length;a++){var r=i[a];this.availableCharacters&&(r.disabled=!(this.availableCharacters.indexOf(r.character)>-1))}},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](o.ChangeDetectorRef))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["virtual-keyboard"]],inputs:{layout:"layout",availableCharacters:"availableCharacters"},outputs:{keyEvent:"keyEvent"},decls:2,vars:4,consts:[[1,"admino-keyboard",3,"ngClass"],["class","keycolumn",4,"ngFor","ngForOf"],[1,"keycolumn"],["class","keyrow",4,"ngFor","ngForOf"],[1,"keyrow"],["class","keybutton",3,"ngStyle",4,"ngFor","ngForOf"],[1,"keybutton",3,"ngStyle"],[3,"config","clickEvent"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275template"](1,W,2,1,"div",1),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](2,K,!e.opened)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",null==e.processedLayout?null:e.processedLayout.columns))},directives:[v.NgClass,v.NgForOf,v.NgStyle,J],styles:[".admino-keyboard[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;min-width:0;min-height:0;transition:height 1s ease-in-out}.admino-keyboard.closed[_ngcontent-%COMP%]{height:0%}.keycolumn[_ngcontent-%COMP%]{flex-direction:column;flex:1 1 auto}.keycolumn[_ngcontent-%COMP%], .keycolumn[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]{display:flex;min-width:0;min-height:0}.keycolumn[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]{overflow:hidden;flex:1}.keycolumn[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]   .keybutton[_ngcontent-%COMP%]{flex:1;min-width:0;min-height:0;padding:.2rem}"]}),t}(),Z=["keyboardRef"],tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.control=new S.FormControl(null,e.validateUtca.bind(e)),e.layout1=$,e.availableCharacters=null,e}return Object(w.__extends)(e,t),e.prototype.ngOnInit=function(){this.state.selectedUtca&&(this.utcaExist(this.state.selectedUtca.utca)?this.control.setValue(this.state.selectedUtca.utca.toString()):(this.control.setValue(null),this.state.selectedUtca=null))},e.prototype.keyInput=function(t){this.keyEvent(t.key)},e.prototype.keyEvent=function(t){var e=this;if("_"===t&&(this.blockedTimeout=setTimeout(function(){e.blocked=!1},500),this.blocked=!0),!this.blocked){var n=null!==this.control.value?this.control.value.toString():"";"Backspace"===t?null!==n&&n.toString().length>0&&this.control.setValue(n.toString().slice(0,n.toString().length-1)):this.isNumber(t)&&this.control.setValue(null!==n&&n.length<3?n+t:t),this.onUtcaChanged()}},e.prototype.ngAfterViewInit=function(){this.onUtcaChanged(),this.cd.detectChanges()},e.prototype.onUtcaChanged=function(){var t=this.utcaExist(this.control.value);t?this.state.selectedUtca=t:(this.control.setValue(null),this.state.selectedUtca=null),this.availableCharacters=this.getAvailableCharaters(),this.keyboardRef.availableCharacters=this.availableCharacters,this.keyboardRef.updateAvailable(),this.state.selectedFakk=null},e.prototype.getAvailableCharaters=function(){var t=this,e=null!=this.control.value?this.control.value.length:0,n=[];return this.storage.utcak.filter(function(e){return null==t.control.value||e.utca.toString().startsWith(t.control.value.toString())}).forEach(function(t){if(void 0!==t.utca){var o=t.utca.toString()[e];if(void 0!==o){var a=parseInt(o,10);n.indexOf(a)<0&&n.push(a)}}}),n},e.prototype.utcaExist=function(t){return null!=t&&this.storage.utcak&&this.storage.utcak.find(function(e){return null!=e.utca&&e.utca.toString()===t.toString()})},e.prototype.onNext=function(){this.control.valid?(this.onUtcaChanged(),"kereses"===this.state.mode?this.state.keresesPopup=2:this.state.page.next(3)):this.control.markAsTouched()},e.prototype.onPrev=function(){"kereses"!==this.state.mode&&this.state.page.next(1)},e.prototype._filter=function(t){if(null==t)return[];var e=t;return this.storage.utcak.filter(function(t){return t.utca.toString().includes(e.toString())})},e.prototype.validateUtca=function(t){return this.utcaExist(t.value)?null:{validUtca:!0}},e.prototype.onDestroy=function(){clearTimeout(this.blockedTimeout)},e.\u0275fac=function(t){return et(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-utca"]],viewQuery:function(t,e){var n;1&t&&o["\u0275\u0275staticViewQuery"](Z,!0,X),2&t&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(e.keyboardRef=n.first)},features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:2,consts:[[3,"layout","availableCharacters","keyEvent"],["keyboardRef",""]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"virtual-keyboard",0,1),o["\u0275\u0275listener"]("keyEvent",function(t){return e.keyEvent(t.character)}),o["\u0275\u0275elementEnd"]()),2&t&&o["\u0275\u0275property"]("layout",e.layout1)("availableCharacters",e.availableCharacters)},directives:[X],styles:["[_nghost-%COMP%]{position:relative;padding-left:15px;padding-right:15px;padding-bottom:15px;display:inline-block;width:100%;height:100%}"]}),e}(I),et=o["\u0275\u0275getInheritedFactory"](tt),nt=["triggerFakk"],ot=["keyboardRef"],at=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.control=new S.FormControl(null,e.validateFakk.bind(e)),e.fakkok=[],e.layout1=$,e}return Object(w.__extends)(e,t),e.prototype.ngOnInit=function(){this.updateFakk()},e.prototype.keyInput=function(t){this.keyEvent(t.key)},e.prototype.keyEvent=function(t){var e=this;if("_"===t&&(this.blockedTimeout=setTimeout(function(){e.blocked=!1},500),this.blocked=!0),!this.blocked){var n=null!==this.control.value?this.control.value:"";this.isNumber(t)&&this.fakkExists(t)&&this.control.setValue(n.length<1?n+t:t),this.state.selectedFakk=this.control.value}},e.prototype.ngAfterViewInit=function(){var t=this;this.timeout=setTimeout(function(e){t.control.markAsUntouched(),t.control.markAsPristine()},10)},e.prototype.updateFakk=function(){var t=this,e=this.storage.utcak.find(function(e){return e.utca===t.state.selectedUtca.utca});e?(0===e.fakkok?(this.fakkok=Array.from(Array(1).keys()),console.log(this.fakkok)):this.fakkok=Array.from(Array(e.fakkok+1).keys()),this.state.selectedUtca=e):this.fakkok=[],this.cd.detectChanges(),this.keyboardRef.updateAvailable()},e.prototype.onFakkChanged=function(){this.state.selectedFakk=this.control.value},e.prototype.validateFakk=function(t){return this.fakkExists(t.value)?null:{validFakk:!0}},e.prototype.fakkExists=function(t){return null!=t&&null!=(this.fakkok&&this.fakkok.find(function(e){return e.toString()===t.toString()}))},e.prototype.onNext=function(){this.control.valid?"kereses"===this.state.mode?(this.state.keresesPopup=0,this.state.keresettBalaSend.next()):this.state.page.next(4):this.control.markAsTouched()},e.prototype.onDestroy=function(){clearTimeout(this.timeout),clearTimeout(this.blockedTimeout)},e.\u0275fac=function(t){return it(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-fakk"]],viewQuery:function(t,e){if(1&t&&(o["\u0275\u0275staticViewQuery"](nt,!0,k.MatAutocompleteTrigger),o["\u0275\u0275staticViewQuery"](ot,!0,X)),2&t){var n=void 0;o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(e.triggerFakkRef=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(e.keyboardRef=n.first)}},features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:2,consts:[[3,"layout","availableCharacters","keyEvent"],["keyboardRef",""]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"virtual-keyboard",0,1),o["\u0275\u0275listener"]("keyEvent",function(t){return e.keyEvent(t.character)}),o["\u0275\u0275elementEnd"]()),2&t&&o["\u0275\u0275property"]("layout",e.layout1)("availableCharacters",e.fakkok)},directives:[X],styles:["[_nghost-%COMP%]{position:relative;padding-left:15px;padding-right:15px;padding-bottom:15px;display:inline-block;width:100%;height:100%}"]}),e}(I),it=o["\u0275\u0275getInheritedFactory"](at),rt=n("9gj6"),st=Object(rt.trigger)("codeAnimation",[Object(rt.transition)("void => *",[Object(rt.style)({transform:"scale(1.2)",opacity:0,height:0}),Object(rt.group)([Object(rt.animate)("1.4s",Object(rt.style)({opacity:1,height:"*"})),Object(rt.animate)("0.2s ease-out",Object(rt.style)({transform:"scale(1)"}))])])]),lt=n("7zYK"),ct=["virtualScrollRef"];function pt(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",6),o["\u0275\u0275text"](1," Kezdje meg a beolvas\xe1st "),o["\u0275\u0275elementEnd"]())}function ut(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"mat-icon",18),o["\u0275\u0275text"](2,"delete_outline "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}function dt(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"mat-icon"),o["\u0275\u0275text"](1,"pan_tool "),o["\u0275\u0275elementEnd"]())}function gt(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"mat-icon"),o["\u0275\u0275text"](1,"wifi_tethering "),o["\u0275\u0275elementEnd"]())}function ht(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275template"](1,dt,2,0,"mat-icon",19),o["\u0275\u0275template"](2,gt,2,0,"mat-icon",19),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]().$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.manualis),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!n.manualis)}}function mt(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"mat-icon",20),o["\u0275\u0275text"](2,"accessibility_new "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}function ft(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"span",29),o["\u0275\u0275elementStart"](1,"span",30),o["\u0275\u0275text"](2,"utca"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"](2).$implicit;o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ","sztorno"===n.type?n.eredetiBeolvasas.utca:n.utca," ")}}function yt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"span",31),o["\u0275\u0275elementStart"](1,"span",30),o["\u0275\u0275text"](2,"fakk"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"](2).$implicit;o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ","sztorno"===n.type?n.eredetiBeolvasas.fakk:n.fakk," ")}}function vt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",21),o["\u0275\u0275elementStart"](1,"h2"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"p",22),o["\u0275\u0275template"](4,ft,4,1,"span",23),o["\u0275\u0275template"](5,yt,4,1,"span",24),o["\u0275\u0275elementStart"](6,"span",25),o["\u0275\u0275text"](7),o["\u0275\u0275pipe"](8,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"p",26),o["\u0275\u0275elementStart"](10,"span",27),o["\u0275\u0275text"](11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"span",28),o["\u0275\u0275text"](13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]().$implicit,a=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](n.bala),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",null!=n.utca),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null!=n.fakk),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind2"](8,6,n.datum,a.getDateFormat(n.datum))," "),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",n.dolgozoNev," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" #",n.id,"")}}function kt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",21),o["\u0275\u0275elementStart"](1,"h2"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"p",22),o["\u0275\u0275elementStart"](4,"span",32),o["\u0275\u0275text"](5),o["\u0275\u0275pipe"](6,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"p",26),o["\u0275\u0275elementStart"](8,"span",27),o["\u0275\u0275text"](9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"span",28),o["\u0275\u0275text"](11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]().$implicit,a=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](n.dolgozoNev),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind2"](6,4,n.datum,a.getDateFormat(n.datum))," "),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",n.dolgozoNev,""),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" #",n.id,"")}}function bt(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"mat-icon",33),o["\u0275\u0275text"](1,"sync_problem "),o["\u0275\u0275elementEnd"]())}function Ct(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"mat-icon",34),o["\u0275\u0275text"](1,"check "),o["\u0275\u0275elementEnd"]())}function xt(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",35),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](n);var t=o["\u0275\u0275nextContext"]().$implicit;return o["\u0275\u0275nextContext"]().showConfirmationId=t.id}),o["\u0275\u0275elementStart"](1,"mat-icon"),o["\u0275\u0275text"](2,"delete"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function Ot(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",36),o["\u0275\u0275text"](1," Biztosan sztorn\xf3zza? "),o["\u0275\u0275element"](2,"div",37),o["\u0275\u0275elementStart"](3,"button",38),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](n);var t=o["\u0275\u0275nextContext"]().$implicit;return o["\u0275\u0275nextContext"]().stornoCode(t)}),o["\u0275\u0275text"](4," Igen "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"button",39),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"](2).showConfirmationId=-1}),o["\u0275\u0275text"](6,"Nem"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}var _t=function(t,e,n,o){return{selected:t,animate:e,synced:n,dolgozoBe:o}},Mt=function(t){return{background:t}};function Pt(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](n);var t=e.$implicit;return o["\u0275\u0275nextContext"]().codeClicked(t.id)}),o["\u0275\u0275element"](1,"div",8),o["\u0275\u0275element"](2,"div",9),o["\u0275\u0275elementStart"](3,"div",10),o["\u0275\u0275template"](4,ut,3,0,"div",11),o["\u0275\u0275template"](5,ht,3,2,"div",11),o["\u0275\u0275template"](6,mt,3,0,"div",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](7,"div"),o["\u0275\u0275elementStart"](8,"div",12),o["\u0275\u0275template"](9,vt,14,9,"div",13),o["\u0275\u0275template"](10,kt,12,7,"div",13),o["\u0275\u0275template"](11,bt,2,0,"mat-icon",14),o["\u0275\u0275template"](12,Ct,2,0,"mat-icon",15),o["\u0275\u0275template"](13,xt,3,0,"button",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](14,Ot,7,0,"div",17),o["\u0275\u0275elementEnd"]()}if(2&t){var a=e.$implicit,i=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction4"](12,_t,a.id===i.selectedId,i.animated.indexOf(a.id)>-1,a.id<=i.storage.syncedTill,"dolgozoBe"===a.type)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngStyle",o["\u0275\u0275pureFunction1"](17,Mt,null==i.state.selectedBizonylatType||null==i.state.selectedBizonylatType.theme?null:i.state.selectedBizonylatType.theme.primary)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngSwitch",a.type),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","sztorno"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","bala"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","dolgozoBe"),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf","bala"===a.type||"sztorno"===a.type),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","dolgozoBe"===a.type||"dolgozoKi"===a.type),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",a.id!==i.selectedId||"bala"!==a.type),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",a.id!==i.selectedId||"bala"!==a.type),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",a.id===i.selectedId&&"bala"===a.type),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",i.showConfirmationId===a.id)}}var wt=function(t){return{opacity:t}},St=function(){function t(t,e,n){var o=this;this.cd=t,this.state=e,this.storage=n,this.ngUnsubscribe=new s.Subject,this.showConfirmationId=-1,this.selectedId=-1,this.currentYear=(new Date).getFullYear(),this.hiderOpacity=1,this.timeouts=[],this.animated=[],this.storage.newBeolvasasEvent.pipe(Object(i.takeUntil)(this.ngUnsubscribe)).subscribe(function(t){o.showConfirmationId=-1,o.selectedId=-1,o.newCode(t.id)})}return t.prototype.scrollEvt=function(){var t=this.virtualScrollRef.nativeElement.scrollTop+this.virtualScrollRef.nativeElement.offsetHeight,e=this.virtualScrollRef.nativeElement.scrollHeight;this.hiderOpacity=t>e-300?(e-t)/300:1},t.prototype.ngOnInit=function(){},t.prototype.getDateFormat=function(t){return this.currentYear!==new Date(t).getFullYear()?"yy/MM/dd H:mm:ss":"MM/dd H:mm:ss"},t.prototype.click=function(t){this.showConfirmationId=t},t.prototype.newCode=function(t){var e=this;this.virtualScrollRef.nativeElement.scrollTop=0,this.scrollEvt(),this.animated.push(t);var n=setTimeout(function(n){e.animated.splice(e.animated.indexOf(t),1),e.timeouts.splice(e.timeouts.indexOf(t),1)},1e3);this.timeouts.push(n)},t.prototype.stornoCode=function(t){this.storage.addBeolvasas({bala:t.bala,type:"sztorno",eredetiBeolvasas:t})},t.prototype.codeClicked=function(t){},t.prototype.getCodes=function(){for(var t,e,n=this.storage.getAllBeolvasas(),o=[],a=!1,i=n.length-1;i>=0;i--){var r=n[i];r.bizonylat===(null===(t=this.state.selectedBizonylat)||void 0===t?void 0:t.bizonylat)?o.push(r):"dolgozoBe"!==r.type||r.dolgozo!==(null===(e=this.state.dolgozo)||void 0===e?void 0:e.id)||a||(a=!0,o.push(r))}return o},t.prototype.trackByFn=function(t,e){return e.id},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.timeouts.forEach(function(t){clearTimeout(t)}),this.timeouts=[]},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](l),o["\u0275\u0275directiveInject"](y))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-eventlist"]],viewQuery:function(t,e){var n;1&t&&o["\u0275\u0275staticViewQuery"](ct,!0,o.ElementRef),2&t&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(e.virtualScrollRef=n.first)},decls:6,vars:6,consts:[[1,"codes-wrapper"],["class","noscan-notice w-100 text-center",4,"ngIf"],[1,"hider",3,"ngStyle"],["itemSize","80",1,"codes","pt-0",3,"scroll"],["virtualScrollRef",""],["class","listitem",3,"ngClass","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"noscan-notice","w-100","text-center"],[1,"listitem",3,"ngClass","click"],[1,"color",3,"ngStyle"],[1,"codebg"],[1,"event-icon",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"codewrapper","pt-2","pr-2","pb-2"],["class","code",4,"ngIf"],["color","warn","class","unsyncindicator",4,"ngIf"],["color","accent","class","syncindicator",4,"ngIf"],["class","deletebtn","mat-icon-button","",3,"click",4,"ngIf"],["class","confirmation p-3 d-flex align-items-center",4,"ngIf"],["color","warn"],[4,"ngIf"],["color","accent"],[1,"code"],[1,"datap","opacity-70","mb-0"],["class","utca",4,"ngIf"],["class","fakk ml-2 mr-2",4,"ngIf"],[1,"id"],[1,"datap","mb-0"],[1,"id","mb-0","opacity-50"],[1,"id","ml-2","opacity-50"],[1,"utca"],[1,"smalltext"],[1,"fakk","ml-2","mr-2"],[1,"id","opacity-50"],["color","warn",1,"unsyncindicator"],["color","accent",1,"syncindicator"],["mat-icon-button","",1,"deletebtn",3,"click"],[1,"confirmation","p-3","d-flex","align-items-center"],[1,"flex-grow-1"],["mat-flat-button","","color","warn",3,"click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275template"](1,pt,2,0,"div",1),o["\u0275\u0275element"](2,"div",2),o["\u0275\u0275elementStart"](3,"cdk-virtual-scroll-viewport",3,4),o["\u0275\u0275listener"]("scroll",function(){return e.scrollEvt()}),o["\u0275\u0275template"](5,Pt,15,19,"div",5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.getCodes().length<1),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngStyle",o["\u0275\u0275pureFunction1"](4,wt,e.hiderOpacity)),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("cdkVirtualForOf",e.getCodes())("cdkVirtualForTrackBy",e.trackByFn))},directives:[v.NgIf,v.NgStyle,lt.CdkVirtualScrollViewport,lt.CdkFixedSizeVirtualScroll,lt.CdkVirtualForOf,v.NgClass,v.NgSwitch,v.NgSwitchCase,k.MatIcon,k.MatButton],pipes:[v.DatePipe],styles:["[_nghost-%COMP%]{flex:1;display:flex;height:100%}.codes-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]{position:relative;width:100%}.codes-wrapper[_ngcontent-%COMP%]{border:1px solid rgba(var(--theme-foreground-500),.1);border-left:0;border-right:0;flex-grow:1;overflow:hidden}.codes-wrapper[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translateX(-50%);z-index:1000;top:5px}.codes-wrapper[_ngcontent-%COMP%]   .noscan-notice[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translateX(-50%) translateY(-50%);font-size:1.2em;opacity:.5}.codes-wrapper[_ngcontent-%COMP%]   .hider[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:calc(100% - 7px);height:25%;pointer-events:none;z-index:100;background:linear-gradient(rgba(var(--theme-background-500),0),rgba(var(--theme-background-500),.9))!important}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]{position:relative;overflow:hidden;overflow-y:auto;height:100%}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border-radius:5px;background-color:rgba(var(--theme-primary-500),.3);border-color:rgba(var(--theme-primary-500),0)!important;box-shadow:inset 0 0 0 3px rgba(var(--theme-primary-500),1),0 0 10px 0 rgba(var(--theme-primary-500),.5)!important}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]{position:relative;border-bottom:1px solid rgba(var(--theme-foreground-500),.1);height:80px;overflow:hidden;display:flex}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .event-icon[_ngcontent-%COMP%]{margin-left:15px;width:45px;display:flex;align-items:center;justify-items:center}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .event-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px;width:30px;height:30px}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem.animate[_ngcontent-%COMP%]{-webkit-animation:heightInCode .3s ease-out 0s forwards,highlightIn 1s forwards;animation:heightInCode .3s ease-out 0s forwards,highlightIn 1s forwards}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem.animate[_ngcontent-%COMP%]   .codewrapper[_ngcontent-%COMP%]{-webkit-animation:fadeInCode .5s ease-out 0s forwards;animation:fadeInCode .5s ease-out 0s forwards}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem.animate[_ngcontent-%COMP%]   .codebg[_ngcontent-%COMP%]{-webkit-animation:fadeOut 1s linear 0s forwards;animation:fadeOut 1s linear 0s forwards;position:absolute;width:100%;height:100%;left:0;top:0}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .codewrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;flex:1}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .codewrapper[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]{flex:1}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .codewrapper[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   .datap[_ngcontent-%COMP%]{line-height:18px}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .codewrapper[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   .fakk[_ngcontent-%COMP%], .codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .codewrapper[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%], .codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .codewrapper[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   .smalltext[_ngcontent-%COMP%], .codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .codewrapper[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   .utca[_ngcontent-%COMP%]{font-size:12px}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .codewrapper[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-bottom:0}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .codewrapper[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .manual[_ngcontent-%COMP%]{font-size:14px}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem.synced[_ngcontent-%COMP%]   .unsyncindicator[_ngcontent-%COMP%], .codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem[_ngcontent-%COMP%]   .syncindicator[_ngcontent-%COMP%]{display:none}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .listitem.synced[_ngcontent-%COMP%]   .syncindicator[_ngcontent-%COMP%]{display:inline-block}.codes-wrapper[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .confirmation[_ngcontent-%COMP%]{font-size:14px;position:absolute;width:100%;height:100%;left:0;z-index:10;top:0;background-color:rgba(var(--theme-background-700),.97);border-radius:5px;border-color:rgba(var(--theme-primary-500),0)!important;box-shadow:inset 0 0 0 3px rgba(var(--theme-primary-500),1),0 0 10px 0 rgba(var(--theme-primary-500),.5)!important}@-webkit-keyframes rotate{0%{transform:rotate(-10deg)}to{transform:rotate(10deg)}}@keyframes rotate{0%{transform:rotate(-10deg)}to{transform:rotate(10deg)}}@-webkit-keyframes fadeInCode{0%{transform:scale(1.1);opacity:0}30%{transform:scale(1.1);opacity:0}to{transform:scale(1);opacity:1}}@keyframes fadeInCode{0%{transform:scale(1.1);opacity:0}30%{transform:scale(1.1);opacity:0}to{transform:scale(1);opacity:1}}@-webkit-keyframes highlightIn{0%{background-color:rgba(var(--theme-primary-500),1)}to{background-color:rgba(var(--theme-primary-500),0)}}@keyframes highlightIn{0%{background-color:rgba(var(--theme-primary-500),1)}to{background-color:rgba(var(--theme-primary-500),0)}}@-webkit-keyframes heightInCode{0%{height:0}to{height:79px}}@keyframes heightInCode{0%{height:0}to{height:79px}}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}"]}),t}();function It(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",6),o["\u0275\u0275elementStart"](1,"div",7),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](3,"div",8),o["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",n," ")}}var Et=function(){function t(t,e){this.storage=t,this.state=e}return t.prototype.trackByFn=function(t,e){return e},t.prototype.ngOnInit=function(){},t.prototype.balaFound=function(t){var e={type:"bala",bala:t.toString(),manualis:!1};this.storage.addBeolvasas(e)},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](y),o["\u0275\u0275directiveInject"](l))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-kereses"]],decls:8,vars:5,consts:[[1,"header","mb-0"],[1,"spacer"],[1,"total"],["itemSize","40",1,"codes","pt-0"],["virtualScrollRef",""],["class","listitem",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"listitem"],[1,"id"],[1,"icon"]],template:function(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"h1",0),o["\u0275\u0275text"](1),o["\u0275\u0275element"](2,"div",1),o["\u0275\u0275elementStart"](3,"div",2),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"cdk-virtual-scroll-viewport",3,4),o["\u0275\u0275template"](7,It,4,1,"div",5),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.state.keresettBala.id," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate2"]("",e.state.keresettBala.total,"/",e.state.keresettBala.list.length,""),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("cdkVirtualForOf",e.state.keresettBala.list)("cdkVirtualForTrackBy",e.trackByFn))},directives:[lt.CdkVirtualScrollViewport,lt.CdkFixedSizeVirtualScroll,lt.CdkVirtualForOf],styles:["[_nghost-%COMP%]{display:flex;height:100%;flex-direction:column;width:100%;align-items:center;justify-content:center}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{flex:1;width:100%}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:center;align-items:center;border-bottom:1px solid rgba(var(--theme-foreground-500),.1);background-color:rgba(var(--theme-background-500),1);width:100%;text-align:left;padding:6px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{opacity:.7;font-size:14px}[_nghost-%COMP%]   .listitem[_ngcontent-%COMP%]{position:relative;border-bottom:1px solid rgba(var(--theme-foreground-500),.1);height:40px;overflow:hidden;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .listitem[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{flex:1;padding:10px}[_nghost-%COMP%]   .listitem[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px;display:flex;justify-content:center;align-items:center}"]}),t}();function zt(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-button-toggle-group",3),o["\u0275\u0275listener"]("change",function(t){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().changeMode(t)}),o["\u0275\u0275elementStart"](1,"mat-button-toggle",4),o["\u0275\u0275text"](2,"B\xe1l\xe1k"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mat-button-toggle",5),o["\u0275\u0275text"](4,"Log"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&t){var a=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("value",a.mode)}}function Bt(t,e){1&t&&o["\u0275\u0275element"](0,"app-eventlist")}function Ft(t,e){1&t&&o["\u0275\u0275element"](0,"app-kereses")}function jt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",6),o["\u0275\u0275elementStart"](1,"h3"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",n.currentManualRead," ")}}var Nt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mode="0",e.keresettBalaSendUnsub=new s.Subject,e.currentRead="",e.currentManualRead="",e.errorMessage={error:"Sikertelen beolvas\xe1s",description:"Nem megfelel\u0151 form\xe1tum"},e.showFakk=!1,e.testData=[],e.testDataId=0,e}return Object(w.__extends)(e,t),e.prototype.ngOnInit=function(){"kereses"===this.state.mode&&(this.mode="1")},e.prototype.onManualInput=function(t){this.state.keresesPopup>0||("Backspace"===t.key?this.currentManualRead=this.currentManualRead.substring(0,this.currentManualRead.length-1):"Enter"===t.key&&(this.validateInput(this.currentManualRead,(new Date).getFullYear()+1,!0)||"kereses"===this.state.mode?(this.codeDetected(this.currentManualRead,!0),this.currentManualRead="",this.currentRead=""):this.currentManualRead.length>0&&this.state.newErrorEvent.next(this.errorMessage)))},e.prototype.onNext=function(){},e.prototype.onPrev=function(){"kereses"===this.state.mode?1===this.state.keresesPopup?this.state.keresesPopup=0:2===this.state.keresesPopup?this.state.keresesPopup=1:this.state.page.next(1):this.state.page.next(this.state.page.value>0&&this.state.selectedBizonylatType.utcafakk?this.pageNum-1:1)},e.prototype.onInput=function(t){this.state.keresesPopup>0||((this.isNumber(t.key)||"/"===t.key||"."===t.key)&&this.currentManualRead.length<10&&(this.currentManualRead+="."===t.key?"/":t.key),this.currentRead+=t.key,this.currentRead.endsWith("_+")&&(this.currentRead="_++"),this.currentRead.startsWith("_++")&&this.currentRead.endsWith("+_")&&this.codeDetected(this.currentRead.substring(3,this.currentRead.length-2)))},e.prototype.changeMode=function(t){this.mode=t.value},e.prototype.codeDetected=function(t,e){var n=this;void 0===e&&(e=!1),this.keresettBalaSendUnsub.next(),this.validateInput(t,(new Date).getFullYear()+1,e)?"kereses"===this.state.mode?this.state.keresettBala.list.find(function(e){return e.toString()===t})?(this.sound.playSound(0),this.state.keresesPopup=1,this.state.keresesBalaCode=t,this.state.keresettBalaSend.pipe(Object(i.takeUntil)(this.ngUnsubscribe),Object(i.takeUntil)(this.keresettBalaSendUnsub)).subscribe(function(o){n.saveCode(t,e),n.state.keresesPopup=0})):(this.sound.playSound(1),e||(this.currentRead="",this.currentManualRead="")):this.saveCode(t,e):(e||(this.currentRead="",this.currentManualRead=""),this.state.newErrorEvent.next(this.errorMessage))},e.prototype.saveCode=function(t,e){var n,o={type:"bala",bala:t,manualis:e};this.state.selectedBizonylatType.utcafakk&&(o.utca=parseInt(null===(n=this.state.selectedUtca)||void 0===n?void 0:n.utca),o.fakk=parseInt(this.state.selectedFakk));var a=this.storage.addBeolvasas(o);this.currentRead="",this.currentManualRead="",a&&this.sound.playSound(0)},e.prototype.validateInput=function(t,e,n){if(!t)return null;if(e%=100,!n&&8!=t.length&&10!=t.length)return null;var o,a,i=t.indexOf("/");if(-1!==i){if(o=t.substring(0,i),a=t.substring(i+1),o.length>7||a.length>3||0===a.length)return null}else{var r=t.length;if(8!==r&&10!==r)return null;o=t.substring(r-7,r),a=t.substring(0,r-7)}var s=/^\d+$/.test(o),l=/^\d+$/.test(a);if(s&&l){var c=parseInt("10000000"+o,10)%1e7,p=parseInt("1000"+a,10)%1e3;return 0===c||p>e?null:c+"/"+Object(q.padStart)(p.toString(),2,"0")}return null},e.\u0275fac=function(t){return Ut(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-input"]],hostBindings:function(t,e){1&t&&o["\u0275\u0275listener"]("keydown",function(t){return e.onManualInput(t)},!1,o["\u0275\u0275resolveDocument"])("keypress",function(t){return e.onInput(t)},!1,o["\u0275\u0275resolveDocument"])},inputs:{testData:"testData"},features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:4,consts:[["appearance","legacy",3,"value","change",4,"ngIf"],[4,"ngIf"],["class","current-read",4,"ngIf"],["appearance","legacy",3,"value","change"],["value","1"],["value","0"],[1,"current-read"]],template:function(t,e){1&t&&(o["\u0275\u0275template"](0,zt,5,1,"mat-button-toggle-group",0),o["\u0275\u0275template"](1,Bt,1,0,"app-eventlist",1),o["\u0275\u0275template"](2,Ft,1,0,"app-kereses",1),o["\u0275\u0275template"](3,jt,3,1,"div",2)),2&t&&(o["\u0275\u0275property"]("ngIf","kereses"===e.state.mode),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","0"===e.mode),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf","1"===e.mode),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",""!==e.currentManualRead))},directives:[v.NgIf,k.MatButtonToggleGroup,k.MatButtonToggle,St,Et],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:100%;max-height:100%;position:relative}[_nghost-%COMP%]   .current-read[_ngcontent-%COMP%]{position:absolute;bottom:25px;border-radius:5px;padding:15px;z-index:101;background-color:rgba(var(--theme-background-700),.8);border-color:rgba(var(--theme-background-600),.5);max-width:100%;word-wrap:break-word}[_nghost-%COMP%]   .current-read[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{width:50%}"],data:{animation:[st]}}),e}(I),Ut=o["\u0275\u0275getInheritedFactory"](Nt);function Tt(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",6),o["\u0275\u0275elementStart"](1,"button",7),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().logout()}),o["\u0275\u0275elementStart"](2,"mat-icon",21),o["\u0275\u0275text"](3,"exit_to_app"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function Rt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"h6",22),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",null==n.state.dolgozo?null:n.state.dolgozo.nev," ")}}function Vt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",26),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",n.storage.syncId-n.storage.syncedTill," ")}}function Dt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",23),o["\u0275\u0275template"](1,Vt,2,1,"div",24),o["\u0275\u0275elementStart"](2,"mat-icon",25),o["\u0275\u0275text"](3,"warning"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.storage.syncId>=0&&n.storage.syncId>n.storage.syncedTill)}}function At(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"mat-icon",27),o["\u0275\u0275text"](1,"wifi"),o["\u0275\u0275elementEnd"]())}function Lt(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"mat-icon",25),o["\u0275\u0275text"](1,"wifi_off "),o["\u0275\u0275elementEnd"]())}function $t(t,e){1&t&&o["\u0275\u0275element"](0,"app-login",28),2&t&&o["\u0275\u0275property"]("pageNum",0)}function qt(t,e){if(1&t&&o["\u0275\u0275element"](0,"app-typeselector",29),2&t){o["\u0275\u0275nextContext"]();var n=o["\u0275\u0275reference"](13);o["\u0275\u0275property"]("pageNum",1)("contentSection",n)}}function Gt(t,e){1&t&&o["\u0275\u0275element"](0,"app-utca",28),2&t&&o["\u0275\u0275property"]("pageNum",2)}function Jt(t,e){1&t&&o["\u0275\u0275element"](0,"app-fakk",28),2&t&&o["\u0275\u0275property"]("pageNum",3)}function Ht(t,e){if(1&t&&o["\u0275\u0275element"](0,"app-input",30),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("pageNum",4)("testData",null==n.context.pluginConfig.config?null:n.context.pluginConfig.config.testData)}}function Qt(t,e){1&t&&o["\u0275\u0275element"](0,"app-utca",28),2&t&&o["\u0275\u0275property"]("pageNum",4)}function Yt(t,e){1&t&&o["\u0275\u0275element"](0,"app-fakk",28),2&t&&o["\u0275\u0275property"]("pageNum",4)}function Wt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",31),o["\u0275\u0275element"](1,"app-infopanel"),o["\u0275\u0275template"](2,Qt,1,1,"app-utca",32),o["\u0275\u0275template"](3,Yt,1,1,"app-fakk",32),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",1===n.state.keresesPopup),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",2===n.state.keresesPopup)}}function Kt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"mat-icon",37),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]().$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",n.iconleft,"")}}function Xt(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"mat-icon",38),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]().$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",n.iconright,"")}}function Zt(t,e){if(1&t){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"button",33,34),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](n);var t=e.$implicit,a=o["\u0275\u0275reference"](1);return o["\u0275\u0275nextContext"]().handleClick(t,a)})("touchend",function(){o["\u0275\u0275restoreView"](n);var t=e.$implicit,a=o["\u0275\u0275reference"](1);return o["\u0275\u0275nextContext"]().handleClick(t,a)}),o["\u0275\u0275template"](2,Kt,2,1,"mat-icon",35),o["\u0275\u0275text"](3),o["\u0275\u0275template"](4,Xt,2,1,"mat-icon",36),o["\u0275\u0275elementEnd"]()}if(2&t){var a=e.$implicit;o["\u0275\u0275property"]("type","button")("color",a.color),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",a.iconleft),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",a.label," "),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",a.iconright)}}var te=function(t){return{"d-none":t}},ee=function(){function t(t,e,n,o,a){this.context=t,this.state=e,this.storage=n,this.el=o,this.cd=a,this.retryTime=7500,this.maxRetryTime=5e3,this.trying=!1,this.isClicking=!1,this.storage.api=this.context.api}return t.prototype.ngOnInit=function(){var t,e,n=this;this.state.online=window.navigator.onLine,this.storage.newBeolvasasEvent.pipe(Object(i.takeUntil)(this.context.destroy$)).subscribe(function(){n.context.control.setValue(n.storage.getUnsyncedBeolvasasok()),n.tryUpload()}),this.context.update$.pipe(Object(i.takeUntil)(this.context.destroy$)).subscribe(function(t){var e,o;if(t.compareResult.diff.config){var i=Object(a.deepCompare)(null===(e=t.prevConfig)||void 0===e?void 0:e.config,null===(o=t.newConfig)||void 0===o?void 0:o.config).diff,r=n.context.pluginConfig.config;i.syncedTill&&n.storage.setSyncedTill(r.syncedTill),i.database&&void 0!==r.database&&n.storage.updateConfig(r.database),i.scanner&&(n.storage.scanner=r.scanner)}}),void 0!==(null===(t=this.context.pluginConfig.config)||void 0===t?void 0:t.database)&&this.storage.updateConfig(this.context.pluginConfig.config.database),this.storage.scanner=null===(e=this.context.pluginConfig.config)||void 0===e?void 0:e.scanner,this.storage.loadConfig(),this.storage.getUnsyncedBeolvasasok().data.length>0&&(this.context.control.setValue(this.storage.getUnsyncedBeolvasasok()),this.tryUpload()),this.retryTimer=setInterval(function(){n.context.control.setValue(n.storage.getUnsyncedBeolvasasok()),n.tryUpload()},this.retryTime),setTimeout(function(){n.context.control.setValue(n.storage.getUnsyncedBeolvasasok()),n.tryUpload()})},t.prototype.handleClick=function(t,e){var n=this;if(!this.isClicking){if(this.isClicking=!0,"next"===t.func)"kereses"===this.state.mode?1===this.state.keresesPopup?this.state.keresesPopup=2:2===this.state.keresesPopup&&this.state.next.next():this.state.next.next();else if("prev"===t.func)"kereses"===this.state.mode?1===this.state.keresesPopup?this.state.keresesPopup=0:2===this.state.keresesPopup?this.state.keresesPopup=1:this.state.page.next(1):this.state.prev.next();else if(t.func.startsWith("goto")){var o=parseInt(t.func.split("goto")[1]);this.state.page.next(o)}this.timeoutHelper=setTimeout(function(t){e._elementRef.nativeElement.blur(),n.isClicking=!1},100)}},t.prototype.logout=function(){this.state.page.next(0)},t.prototype.updateDatabase=function(){},t.prototype.tryUpload=function(t){var e=this;void 0===t&&(t=null),this.currentSub&&(this.currentSub.unsubscribe(),this.currentSub=0),this.currentSub=this.context.firePluginInteractions("upload",{}).subscribe(function(t){e.state.online=!0,e.checkConnectionLost(),e.cd.markForCheck(),"kereses"===e.state.mode&&e.state.keresettBala&&e.storage.loadBalaLista(e.state.keresettBala.id).pipe(Object(i.takeUntil)(e.context.destroy$)).subscribe(function(t){var n;t.version!==(null===(n=e.state.keresettBala)||void 0===n?void 0:n.version)&&(e.state.keresettBala=t)})},function(t){e.state.online=!1,e.cd.markForCheck()}),this.checkConnectionLost()},t.prototype.checkConnectionLost=function(){var t=this;this.connectionLostHelperTimeout&&clearTimeout(this.connectionLostHelperTimeout),this.connectionLostHelperTimeout=setTimeout(function(){t.state.connectionLost=t.storage.syncId>=0&&t.storage.syncId>t.storage.syncedTill,t.cd.markForCheck()},1e3)},t.prototype.getBottomButtons=function(){return 1===this.state.keresesPopup?this.state.labels[2]:2===this.state.keresesPopup?this.state.labels[3]:this.state.labels[this.state.page.value]},t.prototype.ngOnDestroy=function(){clearTimeout(this.connectionLostHelperTimeout),clearInterval(this.retryTimer),clearInterval(this.timeoutHelper),this.currentSub.unsubscribe(),this.state.destroy()},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](a.PLUGIN_CONTEXT),o["\u0275\u0275directiveInject"](l),o["\u0275\u0275directiveInject"](y),o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["app-scanner"]],features:[o["\u0275\u0275ProvidersFeature"]([l,r,y])],decls:26,vars:21,consts:[[1,"header"],["class","toolbarbtn",4,"ngIf"],[1,"user"],["class","username mb-0 mt-1 d-inline-block",4,"ngIf"],[1,"spacer"],["class","toolbarbtn unsyncronized",4,"ngIf"],[1,"toolbarbtn"],["mat-icon-button","",3,"click"],["class","color-accent",4,"ngIf"],["class","color-warn",4,"ngIf"],[1,"content-section"],["contentSection",""],[3,"ngClass"],[1,"views",3,"ngSwitch"],[3,"pageNum",4,"ngSwitchDefault"],[3,"pageNum","contentSection",4,"ngSwitchCase"],[3,"pageNum",4,"ngSwitchCase"],[3,"pageNum","testData",4,"ngSwitchCase"],["class","popup",4,"ngIf"],[1,"bottomnav"],["mat-flat-button","",3,"type","color","click","touchend",4,"ngFor","ngForOf"],[1,"mirror"],[1,"username","mb-0","mt-1","d-inline-block"],[1,"toolbarbtn","unsyncronized"],["class","num",4,"ngIf"],[1,"color-warn"],[1,"num"],[1,"color-accent"],[3,"pageNum"],[3,"pageNum","contentSection"],[3,"pageNum","testData"],[1,"popup"],[3,"pageNum",4,"ngIf"],["mat-flat-button","",3,"type","color","click","touchend"],["buttonRef",""],["class","lefticon",4,"ngIf"],["class","righticon",4,"ngIf"],[1,"lefticon"],[1,"righticon"]],template:function(t,e){1&t&&(o["\u0275\u0275element"](0,"app-erroroverlay"),o["\u0275\u0275elementStart"](1,"div",0),o["\u0275\u0275template"](2,Tt,4,0,"div",1),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275elementStart"](4,"div",2),o["\u0275\u0275template"](5,Rt,2,1,"h6",3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](6,"div",4),o["\u0275\u0275template"](7,Dt,4,1,"div",5),o["\u0275\u0275elementStart"](8,"div",6),o["\u0275\u0275elementStart"](9,"button",7),o["\u0275\u0275listener"]("click",function(){return e.tryUpload()}),o["\u0275\u0275template"](10,At,2,0,"mat-icon",8),o["\u0275\u0275template"](11,Lt,2,0,"mat-icon",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",10,11),o["\u0275\u0275element"](14,"app-infopanel",12),o["\u0275\u0275pipe"](15,"async"),o["\u0275\u0275elementStart"](16,"div",13),o["\u0275\u0275pipe"](17,"async"),o["\u0275\u0275template"](18,$t,1,1,"app-login",14),o["\u0275\u0275template"](19,qt,1,2,"app-typeselector",15),o["\u0275\u0275template"](20,Gt,1,1,"app-utca",16),o["\u0275\u0275template"](21,Jt,1,1,"app-fakk",16),o["\u0275\u0275template"](22,Ht,1,2,"app-input",17),o["\u0275\u0275template"](23,Wt,4,2,"div",18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](24,"div",19),o["\u0275\u0275template"](25,Zt,5,5,"button",20),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](3,13,e.state.page)>0),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",e.state.dolgozo),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.state.connectionLost),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",e.state.online),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!e.state.online),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](19,te,o["\u0275\u0275pipeBind1"](15,15,e.state.page)<2||"kereses"===e.state.mode)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngSwitch",o["\u0275\u0275pipeBind1"](17,17,e.state.page)),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngSwitchCase",1),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase",2),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase",3),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase",4),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.state.keresesPopup>0),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",e.getBottomButtons()))},directives:[x,v.NgIf,k.MatButton,P,v.NgClass,v.NgSwitch,v.NgSwitchDefault,v.NgSwitchCase,v.NgForOf,k.MatIcon,F,A,tt,at,Nt],pipes:[v.AsyncPipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;overflow:hidden;background-color:rgba(var(--theme-background-600),1)}[_nghost-%COMP%]   .mirror[_ngcontent-%COMP%]{transform:scaleX(-1)}[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]{position:absolute;z-index:1000;height:100%;padding:0;background-color:rgba(var(--theme-background-600),1);flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%], [_nghost-%COMP%]   .popup[_ngcontent-%COMP%]{width:100%;display:flex}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .toolbarbtn[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .unsyncronized[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{transform:translateX(50%) translateY(50%);display:inline-block;font-size:10px;position:absolute;bottom:10px;right:10px;background-color:rgba(var(--theme-background-600),1);padding:2px;border-radius:50px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .unsyncronized[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:40px;height:40px;line-height:40px;text-align:center}[_nghost-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}[_nghost-%COMP%]   .user[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .content-section[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   .content-section[_ngcontent-%COMP%], [_nghost-%COMP%]   .content-section[_ngcontent-%COMP%]   .views[_ngcontent-%COMP%]{display:flex;flex:1;position:relative;overflow:hidden}[_nghost-%COMP%]   .content-section[_ngcontent-%COMP%]   .views[_ngcontent-%COMP%]{width:100%;align-items:center;justify-content:center;height:100%}[_nghost-%COMP%]   .bottomnav[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .bottomnav[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .bottomnav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:18px;padding:10px 7px}[_nghost-%COMP%]     input:-webkit-autofill{-webkit-animation-delay:1s;-webkit-animation-name:autofill;-webkit-animation-fill-mode:both}[_nghost-%COMP%]     input::-webkit-inner-spin-button, [_nghost-%COMP%]     input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}[_nghost-%COMP%]     input:focus{outline:none}[_nghost-%COMP%]     input[type=number]{-moz-appearance:textfield}[_nghost-%COMP%]     mat-form-field{width:100%}"]}),t}(),ne=function(){function t(){}return t.entry=null,t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[v.CommonModule]]}),t}(),oe=function(){function t(){}return t.entry=ee,t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[v.CommonModule,S.ReactiveFormsModule,k.MatIconModule,k.MatButtonModule,k.MatFormFieldModule,k.MatInputModule,lt.ScrollingModule,ne,k.MatProgressSpinnerModule,k.MatButtonToggleModule]]}),t}();e.default=oe},Vgaj:function(t,e){t.exports=r},YLtl:function(t,e){t.exports=s},aP7H:function(t,e){t.exports=l},cfyg:function(t,e){t.exports=c},vOrQ:function(t,e){t.exports=p}})});